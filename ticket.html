<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Get Your Ticket - INSPIRA 2025</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Library for PDF generation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700;900&display=swap"
        rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet" />
    <link rel="icon" href="assets/img/favicon/favicon.ico" type="image/x-icon">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
        }

        .animated-gradient {
            background: linear-gradient(-45deg, #541C1C, #6B2E2E, #874C1B, #541C1C);
            background-size: 400% 400%;
            animation: waveFlag 10s ease infinite;
        }

        @keyframes waveFlag {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        .site-header {
            margin: 1%;
            border-radius: 2rem;
            position: fixed;
            top: 0;
            left: 0;
            width: 98%;
            z-index: 1000;
            background-color: rgba(84, 28, 28, 0.5);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .nav-link {
            position: relative;
            transition: color 0.3s ease;
        }

        .nav-link:hover {
            color: #F28C1A;
        }

        .nav-link::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            display: block;
            margin-top: 5px;
            right: 0;
            background: #F28C1A;
            transition: width 0.3s ease;
        }

        .nav-link:hover::after {
            width: 100%;
            left: 0;
        }
        
        #page-content {
            padding-top: 120px; /* Adjust based on header height */
        }

        .form-input {
            background-color: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }

        .form-input:focus {
            background-color: rgba(255, 255, 255, 0.2);
            border-color: #F28C1A;
            outline: none;
            box-shadow: 0 0 0 3px rgba(242, 140, 26, 0.5);
        }

        .ticket-gradient {
            background: linear-gradient(135deg, #874C1B, #6B2E2E, #541C1C);
        }

        .btn-brand {
            background-color: #F28C1A;
            transition: all 0.3s ease;
        }

        .btn-brand:hover {
            background-color: #d87e17;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
    </style>
</head>

<body class="animated-gradient text-white">

    <header class="site-header">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="index.html" class="flex items-center gap-3">
                <img src="assets/img/logo2.jpg" class="h-12 w-12 rounded-full object-cover border-2 border-orange-400 p-1" onerror="this.onerror=null;this.src='https://placehold.co/48x48/541C1C/FFFFFF?text=I25';">
                <span class="font-bold text-xl hidden sm:block">INSPIRA '25</span>
            </a>
            <nav>
                <ul class="flex items-center space-x-8">
                    <li><a href="index.html" class="nav-link font-semibold">Home</a></li>
                    <li><a href="about.html" class="nav-link font-semibold">About</a></li>
                    <li><a href="ticket.html" class="nav-link font-semibold text-orange-400">Get Ticket</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main id="page-content" class="min-h-screen w-full flex flex-col items-center justify-center p-4 sm:p-6 lg:p-8">
        
        <!-- Form Section -->
        <div id="form-container" class="w-full max-w-lg mx-auto">
            <div class="bg-white/10 backdrop-blur-sm p-8 rounded-2xl shadow-lg">
                <h2 class="text-3xl font-bold text-center mb-2">Get Your Event Ticket</h2>
                <p class="text-center text-gray-300 mb-6">Enter your details to generate your entry pass.</p>
                <form id="ticket-form" class="space-y-6">
                    <div>
                        <label for="regNumber" class="block mb-2 text-sm font-medium text-gray-200">Registration Number</label>
                        <input type="text" id="regNumber" class="form-input w-full px-4 py-3 rounded-lg text-white" placeholder="e.g., ASP/2024/000" required>
                    </div>
                    <div>
                        <label for="fullName" class="block mb-2 text-sm font-medium text-gray-200">Full Name</label>
                        <input type="text" id="fullName" class="form-input w-full px-4 py-3 rounded-lg text-white" placeholder="Enter your full name" required>
                    </div>
                    <div>
                        <label for="email" class="block mb-2 text-sm font-medium text-gray-200">Email Address</label>
                        <input type="email" id="email" class="form-input w-full px-4 py-3 rounded-lg text-white" placeholder="your.email@example.com" required>
                    </div>
                    <button type="submit" class="w-full btn-brand text-white font-bold py-3 px-5 rounded-lg text-lg">
                        <i class="bi bi-ticket-detailed-fill mr-2"></i> Get Ticket
                    </button>
                </form>
            </div>
        </div>

        <!-- Ticket Section (Initially hidden) -->
        <div id="ticket-container" class="w-full max-w-lg mx-auto hidden">
             <!-- The actual ticket content to be downloaded -->
            <div id="ticket" class="ticket-gradient text-white rounded-2xl shadow-2xl overflow-hidden">
                <div class="p-6 md:p-8">
                    <div class="flex justify-between items-start">
                        <div>
                            <h1 class="text-3xl md:text-4xl font-black uppercase tracking-wider">INSPIRA <span class="text-orange-300">'25</span></h1>
                            <p class="text-sm text-orange-200">Born to Perform, Inspired to Shine</p>
                        </div>
                        <div class="text-right">
                             <img src="assets/img/logo2.jpg" class="h-16 w-16 rounded-full object-cover border-2 border-orange-300 p-1" onerror="this.onerror=null;this.src='https://placehold.co/64x64/FFFFFF/541C1C?text=I25';">
                        </div>
                    </div>
                    <div class="mt-8">
                        <p class="text-gray-300 text-sm uppercase">Admittee:</p>
                        <h2 id="ticket-name" class="text-2xl font-bold"></h2>
                        <p id="ticket-reg" class="text-gray-200"></p>
                    </div>
                    <div class="mt-6 border-t-2 border-dashed border-white/20 pt-6 flex justify-between items-center">
                        <div>
                            <p class="text-gray-300 text-sm uppercase">Date & Time</p>
                            <p class="font-semibold text-lg">Oct 1, 2025 | 09:00 AM</p>
                        </div>
                         <div>
                            <p class="text-gray-300 text-sm uppercase text-right">Venue</p>
                            <p class="font-semibold text-lg text-right">ZOOM</p>
                        </div>
                    </div>
                </div>
                <div class="bg-black/20 px-6 md:px-8 py-4 flex items-center justify-between">
                    <div class="text-left">
                        <p class="text-xs text-gray-300">Ticket ID:</p>
                        <p id="ticket-id" class="font-mono text-sm"></p>
                    </div>
                    <div class="w-24 h-10 bg-white p-1 rounded-md">
                        <!-- Fake QR Code -->
                        <svg id="qr-code" class="w-full h-full" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 0h6v6H0V0zm2 2v2h2V2H2zM0 14h6v6H0v-6zm2 2v2h2v-2H2zM14 0h6v6h-6V0zm2 2v2h2V2h-2zM8 0h2v2H8V0zM0 8h2v2H0V8zm14 8h2v2h-2v-2zm-4-4h2v2h-2v-2zm-2 2h2v2h-2v-2zm-2-2h2v2H8v-2zm-2 2h2v2H6v-2zm-2-2h2v2H4v-2zm-2 2h2v2H2v-2zm16-2h2v2h-2v-2zm-2 2h2v2h-2v-2zm-2-2h2v2h-2v-2zm-2 2h2v2h-2v-2zm-2-2h2v2h-2v-2zm-2 2h2v2H8v-2zm-2-2h2v2H6v-2zm-2 2h2v2H4v-2zm-2-2h2v2H2v-2zm16 4h2v2h-2v-2zm-2 2h2v2h-2v-2zm-2-2h2v2h-2v-2zm-2 2h2v2h-2v-2zm-2-2h2v2h-2v-2zm-2 2h2v2H8v-2zm-2-2h2v2H6v-2zm-2 2h2v2H4v-2zm-2-2h2v2H2v-2zm16-6h2v2h-2V8zm-2 2h2v2h-2v-2zm-2-2h2v2h-2V8zm-2 2h2v2h-2v-2zm-2-2h2v2h-2V8zm-2 2h2v2H8v-2zm-2-2h2v2H6V8zm-2 2h2v2H4v-2zm-2-2h2v2H2V8zm16-4h2v2h-2V4zm-2 2h2v2h-2V4zm-2-2h2v2h-2V4zm-2 2h2v2h-2V4zm-2-2h2v2h-2V4zm-2 2h2v2H8V4zm-2-2h2v2H6V4zm-2 2h2v2H4V4zm-2-2h2v2H2V4zm16-4h2v2h-2V0zm-2 2h2v2h-2V0zm-2-2h2v2h-2V0z" fill="#0D1117"/></svg>
                    </div>
                </div>
            </div>

            <div class="mt-6 text-center">
                <button id="download-btn" class="btn-brand text-white font-bold py-3 px-8 rounded-lg text-lg">
                    <i class="bi bi-download mr-2"></i> Download as PDF
                </button>
                <button id="new-ticket-btn" class="bg-gray-500 hover:bg-gray-600 text-white font-bold py-3 px-8 rounded-lg text-lg mt-4 md:mt-0 md:ml-4">
                    <i class="bi bi-plus-circle mr-2"></i>
                </button>
            </div>
        </div>

    </main>

    <script>
        // Get references to the DOM elements
        const ticketForm = document.getElementById('ticket-form');
        const formContainer = document.getElementById('form-container');
        const ticketContainer = document.getElementById('ticket-container');
        const downloadBtn = document.getElementById('download-btn');
        const newTicketBtn = document.getElementById('new-ticket-btn');

        // Handle form submission
        ticketForm.addEventListener('submit', function (e) {
            e.preventDefault(); // Prevent the default form submission

            // Get user input
            const regNumber = document.getElementById('regNumber').value;
            const fullName = document.getElementById('fullName').value;
            const email = document.getElementById('email').value;

            // Populate the ticket with user data
            document.getElementById('ticket-name').textContent = fullName;
            document.getElementById('ticket-reg').textContent = regNumber;
            
            // Generate a simple unique ticket ID
            const ticketId = 'INSP25-' + Date.now().toString().slice(-6);
            document.getElementById('ticket-id').textContent = ticketId;
            
            // Hide the form and show the ticket
            formContainer.classList.add('hidden');
            ticketContainer.classList.remove('hidden');
        });

        // Handle the download button click
        downloadBtn.addEventListener('click', function () {
            const ticketElement = document.getElementById('ticket');
            const studentName = document.getElementById('fullName').value.replace(/ /g, '_');
            const regNumber = document.getElementById('regNumber').value;
            
            const opt = {
                margin:       0.5,
                filename:     `INSPIRA2025_Ticket_${regNumber}_${studentName}.pdf`,
                image:        { type: 'jpeg', quality: 0.98 },
                html2canvas:  { scale: 2, useCORS: true },
                jsPDF:        { unit: 'in', format: 'letter', orientation: 'portrait' }
            };

            // Use html2pdf library to generate and save the PDF
            html2pdf().set(opt).from(ticketElement).save();
        });

        // Handle the "Get Another Ticket" button click
        newTicketBtn.addEventListener('click', function() {
            // Reset the form
            ticketForm.reset();
            // Hide the ticket and show the form again
            ticketContainer.classList.add('hidden');
            formContainer.classList.remove('hidden');
        });

    </script>
</body>

</html>
